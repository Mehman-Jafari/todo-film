"use strict";const inputSearch=document.querySelector(".js-form-search__input"),btnSearch=document.querySelector(".js-form-search__btn"),filmsWrapper=document.querySelector(".js-films"),filmsStorage=JSON.parse(localStorage.getItem("infoFilms"))||[];let films=filmsStorage;function renderFilm(e,l){disablePreventDefault(l),addFilm(e,films),clearInputValue(inputSearch)}function addFilm(l,e){!e.some(e=>e.nameFilm.includes(l))&&""!==l.trim()&&l.length<30&&(e.push({nameFilm:l,status:!1}),localStorage.setItem("infoFilms",JSON.stringify(e)),layoutFilm(e))}function checkFilm(){const t=document.querySelectorAll(".js-films__item"),e=document.querySelectorAll(".js-films__checkbox");e.forEach((e,l)=>{t[l].classList.toggle("active",films[l].status),e.addEventListener("click",()=>{films[l].status=!films[l].status,t[l].classList.toggle("active",films[l].status),localStorage.setItem("infoFilms",JSON.stringify(films))})})}function removeFilm(){const e=document.querySelectorAll(".js-films__close");e.forEach((e,l)=>{e.addEventListener("click",()=>{films.splice(l,1),localStorage.setItem("infoFilms",JSON.stringify(films)),layoutFilm(films)})})}function layoutFilm(e){let l="";e.forEach(e=>{l+=`
        <li class="films__item js-films__item">
            <div class="films__checkbox js-films__checkbox"><span></span></div>
            <h3 class="films__title">${e.nameFilm}</h3>
            <button class="films__close js-films__close"></button>
        </li>
    `}),filmsWrapper.innerHTML=l,checkFilm(),removeFilm()}function clearInputValue(e){return e.value=""}function disablePreventDefault(e){e.preventDefault()}layoutFilm(filmsStorage),btnSearch.addEventListener("click",e=>{renderFilm(inputSearch.value,e)});